<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
    <title>WildSpin</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            background-image: url(foto.png);
        }

        section {  
            height: 100%;
            scroll-snap-align: start;
            
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            margin-top: 100%;
        }
        .slot {
            position: absolute;
            width: 250px;
            height: 400px;
            background-color: rgba(202, 202, 202, 0);
            font-size: 7vw;
            border-radius: 20px;
            filter: brightness(0.85);
        }

        .slot1 { top: 6vw; left: 7%; }
        .slot2 { top: 19vw; left: 7%; }
        .slot3 { top: 6vw; left: 30%;}
        .slot4 { top: 19vw; left: 30%; }
        .slot5 { top: 6vw; left: 51%; }
        .slot6 { top: 19vw; left: 51%; }
        .slot7 { top: 6vw; left: 73%; }
        .slot8 { top: 19vw; left: 73%; }


        #corpo {
            display: flex;
            flex-direction: column;
            
            width: 70%;
            height: 100%;
            display: flex;
            background-color: cadetblue;
            align-items: center;
            background-image: url(foto.png);
            margin-top: 100%;
        }
        #corpo {
            width: 7cqb;
            height: 100%;
            display: flex;
            background-color: cadetblue;
            align-items: center;
            background-image: url(foto.png);
            
        }

        .sfondo {
            position: absolute;
           
            top: -12%;
            width: 78%;
            height: 108%;
            border-radius: 13%;
            border: 2px solid rgb(46, 46, 46); 
            background-color: rgb(75, 75, 75);
            left: 12%;  
            justify-content: center; /* centra il contenuto lungo l'asse principale (orizzontalmente) */      
            display: flex;
        }

        .immagine {
            position: absolute;
            left: -10%;
            top: 87%;
            border: 3px #000 solid;
            border-radius: 10px;
            width: 10vw;
            height: 4vw;
            z-index: 999;
        }



        .button2, .button3, .button4, .button10, .button20, .button50 {
            width: 128px;
            height: 128px;
            
            position: absolute;
            top: 102%;
            font-size: 30px;
            
            border: 1.5px #000 solid;
            color: burlywood;
            border-radius: 27%;
            
        }
        .button10 span, .button20 span, .button4 span, .button50 span, .button3 span {
            display: inline-block;
            vertical-align: middle;
            line-height: middle;
            top: 36%;
            position: absolute;
            left: 33%;
            font-family: sans-serif;
            color: #ffffff;
            -webkit-text-stroke-color: #000 ;
            -webkit-text-stroke-width: 0.5px
            
        }
        .button2 span{
            display: inline-block;
            vertical-align: middle;
            line-height: middle;
            top: 36%;
            position: absolute;
            left: 20%;
            font-family: sans-serif;
            -webkit-text-stroke-color: #000 ;
            -webkit-text-stroke-width: 0.5px;
            color: #ffffff;
        }

        .button2 { left: 2px; }
        .button3 { left: 12%; } /* Modificato per correggere il posizionamento */
        .button4 { left: 23.5%; }
        .button10 { left: 69%; }
        .button20 { left: 80%; } /* Modificato per correggere il posizionamento */
        .button50 { left: 91%; } /* Modificato per correggere il posizionamento */

        .button2:hover, .button3:hover, .button4:hover, .button10:hover, .button20:hover, .button50:hover{
            filter: brightness(0.8);
        }

        .a_href {
            width: 150px;
            height: 80px;
            background-color: aliceblue;
            border-radius: 20px;
            font-size: 30px;
            left: 15px;
            position: absolute;
            top: 15px;
            border: #000 3px solid;
        }

        /* Stili per la prima sezione */
        section:first-child {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-direction: column;
        }

        section:first-child .sfondo {
            background-image: url(immagine1.png);
            background-size: cover;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            border-radius: 0;
            border: none;
        }

        section:first-child .immagine {
            display: none;
        }

        section:first-child .HUGE {
            color: rgb(255, 251, 0);
            font-size: 80px;
            -webkit-text-stroke-width: 0px;
            -text-stroke-width: 2px #000 solid;
            margin-bottom: 20px;
        }

        section:first-child p {
            font-size: 24px;
            color: #fff;
            margin-bottom: 20px;
        }

        section:first-child .button {
            font-size: 32px;
            background-color: #ffcc00;
            color: #000;
            padding: 15px 30px;
            border: none;
            cursor: pointer;
        }
        
        section {  
            height: 100%; /* Altezza della sezione, in questo caso, occupa l'intera altezza della viewport */
            scroll-snap-align: start; /* La sezione si allinea con l'inizio della viewport durante lo scorrimento */
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            margin-top: 100%;
        }

        #corpo {
            width: 100%;
            height: 100%;
            display: flex;
            background-color: cadetblue;
            align-items: center;
            background-image: url(foto.png);
            
        }

        .button {
            width: 23%;
            height: 22%;
            
            position: absolute;
            border-radius: 22%;
            top: 100%;
            
            border: none;
            font-size: 40px;
            color: brown;
            
            
            left: 39.3%;
        }

        .score {
            position: absolute;
            font-size: 2vw;
            font-family: fantasy;
            color: cornsilk;
            top: 78%;
            right: 85%;
            font-size: 2vw;
            font-style: italic;
            z-index: 999;
            
            
            
        }

        #corpo_slots {
            display: flex;
            position: absolute;
            background-color: rgba(100, 148, 237, 0);
            width: 70%;
            height: 70%;
            justify-content: center;
            left: 265px;
            background-image: url(magia.png);
            top: 12.5%;
        }

      

        .HUGE {
            color: rgb(255, 251, 0);
            font-size: 250px;
            position: absolute;
            left: 20%;
            -webkit-text-stroke-color: #000;
            -webkit-text-stroke-width: 3px  ;
            top: -20%;
            
        }
      

        


        .a_href {
            width: 150px;
            height: 80px;
            background-color: aliceblue;
            border-radius: 20px;
            font-size: 30px;
            left: 15px;
            position: absolute;
            top: 15px;
            border: #000 3px solid;
        }
        .tutto{           
            display: flex;
            flex-direction: column;
            height: 200%; /* Altezza totale delle due sezioni (100% per ogni sezione) */
        }
        #paypal-button-container {
            position: absolute ;
            width: 22vw;
            height: 6vw;
            left: 25%;
            top: 60%;
           
        }
    


        .corpo {
            background-color: rgb(202, 202, 202);
            position: absolute;
            width: 65vw;
            height: 40vw;
            left: 18%;
            top: 18%;
            border-radius: 50px;
            right: 15%;
            border: 3px solid #000000;
        }
 
        .wrote {
            position: absolute;
            font-size: 4vw;
            color: rgb(35, 57, 58);
            left: 25%;
            top: -7%;
        }

        .things {
            position: absolute;
            width: 65%;
            height: 80%;
            background-color: rgb(209, 209, 209);
            right: 17%;
            top: 12%;
            border-radius: 35px;
            border: #000000 solid 2px;
        }

        .input {
            width: 15vw;
            height: 2vw;
            border-radius: 15px;
            position: absolute;
            left: 57%;
            top: 15%;
        }
        .soto{
        
            background-color: gray;
            height: 100%;
            position: absolute;
            top: 50px;
            left: 15%;
        }
        .button:hover{
            filter: brightness(0.8);
        }
        /* Aggiungi questo nel tuo foglio di stile CSS */
        
        @keyframes fall {
            0% {
            transform: translateY(-100%);
            }
            100% {
            transform: translateY(0);
            }
        }


        .slot-symbol {
            animation: fall 0.5s ease-out;
        }
        .abcimm{
            width: 220px;
            height: 85px;
            border-radius: 0px;

        }
        .withdraw_{
            
            width: 65vw;
            height: 40vw;
            position: absolute;
            border: #000 solid 3px;
            border-radius: 75px;
            top: 115vw; 
            background-color: rgb(175, 175, 175); 
            left: 17vw;
        }   
        #somma{
            width: 200px;
            height: 100px;
        }
        #a{    
            width: 65%;
            height: 80%;
            position: absolute;
            right: 15%;
            background-color: rgb(180, 180, 180) ;
            border-radius: 20px;
            font-size: 50px;
            border: 2px solid  #000;
        }
        #email{
            width: 280px;;
            height: 45px;
            position: absolute;
            top: 150px;
            left: 460px;
            border-radius: 15px;
        }
        #Amount{
            width: 12vw;;
            height: 2vw;
            position: absolute;
            left: 23vw;
            top: 10vw;
            border-radius: 15px;
        }

        label{
            position: absolute;
            left: 28%;
        }
        .label{
            top: 140px;
        }
        .label2{
            top: 10vw;
            font-size: 2.2vw;
        }
        .INVIA{
            width: 8vw;
            height: 3.5vw;
            font-size: x-large;
            position: absolute;
            right: 16vw;
            top: 55%;
        }


        #STO{
            width: 35%;
            height: 7%;
            background-color: #f0f0f0;
            font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            font-size: 1.2vw;
            position: absolute;
            left: 0%;
            top: 0%;
            border-radius: 20%;
            background-image: url(saldo.png);
            border: #000 solid 3px;
            color: rgb(49, 1, 49);
            z-index: 999;
            
        }    
        
        #overlay {
            display: none; /* Inizialmente nascosto */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Grigio con opacità del 50% */
            z-index: 9999; /* Assicura che il div sia sopra a tutti gli altri elementi */
            pointer-events: none; /* Impedisce l'interazione con il div */
        }
      
    </style>
</head>

<body>
    <div id="tutto">
        

        
        <div id="corpo">
            <div style="background-color: #000; width: 100%; height: 5%;"></div>
            
            <div id="corpo_slots" >
                

                
                <div class="sfondo">  
                    <img src="slot.png" style="width: 100%; height: 100%;">
                    <img src="PHOTO/duuu - Copia.png" style="position: absolute; top: -5%; left: 0%; z-index: 999; width: 99.8%; height: 15%;">
                    <img src="PHOTO/DONNA SLOT.png" style="position:absolute; left: -17%; z-index: 999; top: 24%; width: 28%;">
                    <div style="background-color: gray;width: 15%; height: 5%;position: absolute; left: -40%; border: #000 2px solid;border-radius: 15%; top: 114%;">
                        <a href="#vv" style="position: absolute; top: 10%; left: 20%; font-size: 85%; color: #ffcc00; z-index: 999; text-decoration-line: none;">MAKE A DEPOSIT</a>
                    </div>
                    <div style="background-color: gray;width: 15%; height: 5%;position: absolute; left: -40%; border: #000 2px solid;border-radius: 15%; top: 120%;">
                        <a href="#ABB" style="position: absolute; top: 10%; left: 20%; font-size: 100%; color: #ffcc00; z-index: 999; text-decoration-line: none;">Withdraw</a>
                    </div>
                    <button onclick="Fa()" style="width: 10%; height: 7% ;position: absolute; left: 150%; top: -18%;font-size: 25px; background-color: #fffd89;"></button>
                    <div id="STO"></div>
                    <img src="conto.png" class="immagine">
                    <div class="slot slot1" id="reel1"></div>
                    <div class="slot slot2" id="reel2"></div>
                    <div class="slot slot3" id="reel3"></div>
                    <div class="slot slot4" id="reel4"></div>
                    <div class="slot slot5" id="reel5"></div>
                    <div class="slot slot6" id="reel6"></div>
                    <div class="slot slot7" id="reel7"></div>
                    <div class="slot slot8" id="reel8"></div>


                    <h1 id="blinkingText" class="HUGE">HUGE WIN!</h1>
                    <h1 id="Win" class="HUGE">WIN!</h1>
                </div>
                <img src="bottone.png" onclick="spin()" class="button" id="myButton"></button>
                <img src="bottone2b.png" id="bottoneAggiungi1" class="button2" onclick="sce(0.20)"  style="width: 9.45%; height: 19.8%;"><span> €0.20</span>
                <img src="bottone2b.png" id="bottoneAggiungi2" class="button3" onclick="sce(1)"  style="width: 9.45%; height: 19.8%;"><span>€1</span></button>
                <img src="bottone2b.png" id="bottoneAggiungi3" class="button4" onclick="sce(2)"  style="width: 9.45%; height: 19.8%;"><span>€2</span></button>
                <img src="bottone2b.png" id="bottoneAggiungi10" class="button10" onclick="sce(5)"  style="width: 9.45%; height: 19.8%;"><span>€5</span></button>
                <img src="bottone2b.png" id="bottoneAggiungi20" class="button20" onclick="sce(10)" style="width: 9.45%; height: 19.8%;"><span>€10</span></button>
                <img src="bottone2b.png" id="bottoneAggiungi50" class="button50" onclick="sce(20)" style="width: 9.45%; height: 19.8%;"><span>€20</span></button>
                <p id="score" class="score"></p>
               
            </div>
        </div>
        <section>
            <div class="soto" id="AHAH">
                
                <div class="corpo" style="display: flex; top: 50vw; background-color: rgb(175, 175, 175); left: 2vw;">
                    <h1 class="wrote" id="vv">MONEY DEPOSIT</h1>
                    <div class="things">
                        <div id="paypal-button-container"></div>
                        <input type="number" placeholder="amount in €..." class="input" id="informazione" step="1" min="0" required></input>
                        <label for="informazione" style="display: flex; top: 15%; left: 3%; font-size: 1.4vw;">the amount of money you want<br> to deposit</label>
                    </div>
                </div>
            </div>

            <div class="withdraw_">
                
                <div>
                    <center style="font-size: 4vw;" id="ABB">Withdraw</center>
                </div>

                <form id="totale" action="/ricevi-informazioni" method="post">
                    <div id="a">


                        <label for="Amount" class="label2">Amount:</label>
                        <input type="Amount" id="Amount" name="Amount" required>
                        <button type="submit" onclick="inviaMessaggio()" class="INVIA" id="gaga">get</button>
                        <div id="overlay"></div>
                    </div>
                </form>
               
            </div>
        </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script> eval(atob("bGV0IGFiYyA9IDA7CgpsZXQgY3JlZApsZXQgWklPUEVSQUFBID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjb3JlIik7CmxldCBpbmZvOwp2YXIgc3ltYm9scyA9IFsiIPCfjYoiLCAiIPCfjYgiLCAiIPCfjYkiLCAiIPCfjZEiLCAiIPCfjYwiXTs7CmxldCBhbW91bnRWYWx1ZTsKY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6ODA4MCcpOwoKCgpzc3NzcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmMiKQoKCndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgIHNhc3MgPSBhdG9iKHNzc3NzKQogICAgWklPUEVSQUFBLmlubmVyVGV4dCA9IHNhc3MKCn0KCgoKY29uc3QgdXNlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyJykKZnVuY3Rpb24gaW5zKCl7CiAgICB1c2VyLmlubmVyVGV4dCA9IG15VmFyCn0KCnZhciBBa2FHID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbXknKQoKCmZ1bmN0aW9uIEZhKCl7CiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJnYW1lcy5odG1sP215VmFyPSIgKyAgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteScpKTsKfSAKCgoKZnVuY3Rpb24gZ29fcGFnZSgpewogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiU0xPVC5IVE1MP215VmFyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnQ1JFRCcpKTsKfQoKZnVuY3Rpb24gZHVjKCl7CiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJzb2NjZXIuaHRtbD9teVZhcj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0NSRUQnKSk7Cn0KCmZ1bmN0aW9uIHZhaSgpewogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAic3BvcnQuaHRtbD9teVZhcj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0NSRUQnKSk7Cn0KCmZ1bmN0aW9uIGR1Y2UoKXsKICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gInNvY2Nlci5odG1sP215VmFyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnQ1JFRCcpKTsKfQoKZnVuY3Rpb24gZ29pbmcoKXsKICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIldpbGRTcGluLkhUTUw/bXlWYXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDUkVEJykpOwp9IAoKZnVuY3Rpb24gZygpewogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiTW9uZXlFYXJuLmh0bWw/bXlWYXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDUkVEJykpOwp9CgpmdW5jdGlvbiBhYnJhKCl7CiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJsb3R0ZXJ5Lmh0bWw/bXlWYXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDUkVEJykpOwp9CgpmdW5jdGlvbiBhYigpewogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAic2NoZWRpbmEuaHRtbD9teVZhcj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0NSRUQnKSk7Cn0KCmNvbnN0IGFrYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJha2EiKTsKClpJT1BFUkFBQS5pbm5lclRleHQgPSBhdG9iKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmMiKSkudG9GaXhlZAoKLy8gRnVuemlvbmUgY2hpYW1hdGEgYWwgY2FyaWNhbWVudG8gZGVsbGEgcGFnaW5hCndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgIC8vIENvbnRyb2xsYSBzZSBjJ8OoIHVuIHZhbG9yZSBjcml0dG9ncmFmYXRvIHNhbHZhdG8gbmVsIGxvY2FsU3RvcmFnZQogICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NhbGMnKSkgewogICAgICAgIC8vIERlY3JpdHRvZ3JhZmEgaWwgdmFsb3JlIGUgbG8gbW9zdHJhIGEgc2NoZXJtbwogICAgICAgIGNvbnN0IHZhbG9yZURlY3JpdHRvZ3JhZmF0byA9IGRlY3JpdHRvZ3JhZmEoKTsKICAgICAgICBaSU9QRVJBQUEuaW5uZXJUZXh0ID0gYXRvYihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjIikpCiAgICB9IGVsc2UgewogICAgICAgIC8vIFNlIG5vbiBjJ8OoIG5lc3N1biB2YWxvcmUgY3JpdHRvZ3JhZmF0byBzYWx2YXRvLCBnZW5lcmEgdW4gbnVtZXJvIGNhc3VhbGUgZSBjcml0dG9ncmFmYS9zYWx2YQogICAgICAgIGNvbnN0IHZhbG9yZUNhc3VhbGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMTsgLy8gR2VuZXJhIHVuIG51bWVybyBjYXN1YWxlIHRyYSAxIGUgMTAwCiAgICAgICAgY3JpdHRvZ3JhZmFFU2FsdmEodmFsb3JlQ2FzdWFsZSk7CiAgICB9CiAgICBzc3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWJjJyk7CiAgICBzYWFzID0gYXRvYihzc3MpCgogICAgLy8gTW9zdHJhIGlsIHZhbG9yZSBjcml0dG9ncmFmYXRvIGEgc2NoZXJtbwogICAgWklPUEVSQUFBLmlubmVyVGV4dCA9IHNhYXMKfTsKbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2MnLCBhYmMudG9GaXhlZCgyKSkKLy8gRnVuemlvbmUgY2hpYW1hdGEgcXVhbmRvIGwndXRlbnRlIHByZW1lIGlsIHB1bHNhbnRlICJTb3R0cmFpIDIiCmZ1bmN0aW9uIHNvdHRyYWlEdWUoKSB7CiAgICAvLyBSZWN1cGVyYSBpbCB2YWxvcmUgZGVjcml0dG9ncmFmYXRvIGUgc290dHJhZSAyCiAgICBjb25zdCB2YWxvcmVEZWNyaXR0b2dyYWZhdG8gPSBkZWNyaXR0b2dyYWZhKCk7CiAgICBjb25zdCBudW92b1ZhbG9yZSA9IHZhbG9yZURlY3JpdHRvZ3JhZmF0byAtPSAyOwoKICAgIC8vIE1vc3RyYSBpbCBudW92byB2YWxvcmUgZGVjcml0dG9ncmFmYXRvIGEgc2NoZXJtbwogICAgWklPUEVSQUFBLmlubmVyVGV4dCA9IG51b3ZvVmFsb3JlOwoKICAgIC8vIENyaXR0b2dyYWZhIGlsIG51b3ZvIHZhbG9yZSBlIHNhbHZhbG8gbmVsIGxvY2FsU3RvcmFnZQogICAgYWdnaW9ybmFhYmMobnVvdm9WYWxvcmUpCn0KCgoKbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21hJywgYWJjLnRvRml4ZWQoMikpCgoKCgpmdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7CiAgICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFtcXV0vZywgIlxcJCYiKTsKICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoIls/Jl0iICsgbmFtZSArICIoPShbXiYjXSopfCZ8I3wkKSIpLAogICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7CiAgICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsOwogICAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7CiAgICBteVZhciA9IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1wrL2csICIgIikpOwogICAgcmV0dXJuIG15VmFyOyAvLyBNb2RpZmljYSBxdQp9Cgp2YXIgbXlWYXIgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ215VmFyJyk7CgpRdWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NUTycpCgpRdWFkLmlubmVyVGV4dCA9IG15VmFyOwpmdW5jdGlvbiBzZXNlKGFzYSkgewogICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CiAgICB2YXIgeiA9IHVybFBhcmFtcy5nZXQoJ215VmFyJyk7CiAgICBjb25zdCBkYXRpZnIgPSB7CiAgICAgICAgbm9tZTogYXNhLAogICAgICAgIGVtYWlsOiB6CiAgICB9OwogICAgICAKICAgIGZldGNoKCdodHRwczovL2x5aW5nLWFkaGVzaXZlLWNoZWYuZ2xpdGNoLm1lL3NhbHZhLWRhdGknLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGlmciksCiAgICB9KQogICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3JlIG5lbGxhIHJpY2hpZXN0YSBhbCBzZXJ2ZXInKTsKICAgIH0KICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpOwogICAgfSkKICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOyAvLyBEYXRpIHNhbHZhdGkgY29uIHN1Y2Nlc3NvCiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcmU6JywgZXJyb3IpOwogICAgfSk7Cn0KZnVuY3Rpb24gYWdnaW9ybmFhYmMobnVvdm9WYWxvcmUpIHsKICAgIGFiYyA9IG51b3ZvVmFsb3JlOwogICAgc2V4ID0gYnRvYShhYmMpCiAgICBzZXNlKGFiYykKCgogICAgdHJ5IHsKICAgICAgICAKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWJjIiwgc2V4KQogICAgICAgIGNvbnNvbGUubG9nKCJWYWxvcmUgZGVsIGFiYyBzYWx2YXRvIG5lbGxvIHN0b3JhZ2UgY29uIHN1Y2Nlc3NvLiIpOwogICAgICAgIFpJT1BFUkFBQS5pbm5lclRleHQgPSAn4oKsJyArIGFiYy50b0ZpeGVkKDIpCiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yZSBkdXJhbnRlIGlsIHNhbHZhdGFnZ2lvIG5lbCBsb2NhbFN0b3JhZ2U6IiwgZXJyb3IpOwogICAgfQoKfQpjb25zdCBiZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmV0JykKCmZ1bmN0aW9uIHNjZSh2YWxvcmUpewogICAgdmFsb3JlTnVtZXJpY28gPSB2YWxvcmUKICAgIGJldC5pbm5lclRleHQgPSAn4oKsJyArIHZhbG9yZU51bWVyaWNvCgp9CmZ1bmN0aW9uIGFnZ2l1bmdpKCkgewogICAgLy8gVmVyaWZpY2Egc2UgaW5mby52YWx1ZSDDqCB1biBudW1lcm8gdmFsaWRvCiAgICBjb25zdCBudW92b1ZhbG9yZSA9IHBhcnNlRmxvYXQoaW5mby52YWx1ZSkgKiAwLjkxOwogICAgCgogICAgaWYgKCFpc05hTihudW92b1ZhbG9yZSkpIHsKICAgICAgICBhYmMgKz0gbnVvdm9WYWxvcmU7CiAgICAgICAgCgogICAgICAgIGFnZ2lvcm5hYWJjKGFiYyk7CiAgICAgICAgY29uc29sZS5sb2coIkZ1bnppb25lIGFnZ2l1bmdpKCkgY2hpYW1hdGEiKTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiSWwgdmFsb3JlIGRpICdpbmZvLnZhbHVlJyBub24gw6ggdW4gbnVtZXJvIHZhbGlkby4iKTsKICAgIH0KICAgIAogICAgc29ja2V0LnNlbmQodmFsb3JlTnVtZXJpY28pCgogICAgc29ja2V0LnNlbmQoJ0FHR0lVTlRPIFRPVEFMRScpCiAgICBzb2NrZXQuc2VuZCh2YWxvcmVOdW1lcmljbykKICAgIHNvY2tldC5zZW5kKG15VmFyKQogICAgc29ja2V0LnNlbmQoJyAgICAnKQp9CgoKZnVuY3Rpb24gYWdnaXVuZ2ltZXRhKCl7CiAgICBjb25zdCBudW92b1ZhbG9yZSA9IHZhbG9yZU51bWVyaWNvOwogICAgCgogICAgaWYgKCFpc05hTihudW92b1ZhbG9yZSkpIHsKICAgICAgICBhYmMgKz0gdmFsb3JlTnVtZXJpY28gLyAyOwogICAgICAgIAoKICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwogICAgICAgIGNvbnNvbGUubG9nKCJGdW56aW9uZSBhZ2dpdW5naSgpIGNoaWFtYXRhIik7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIklsIHZhbG9yZSBkaSAnaW5mby52YWx1ZScgbm9uIMOoIHVuIG51bWVybyB2YWxpZG8uIik7CiAgICB9CiAgICAKICAgIFpJT1BFUkFBQS5pbm5lclRleHQgPSAn4oKsJyArIGFiYy50b0ZpeGVkKDIpCgogICAgc29ja2V0LnNlbmQoJ0FHR0lVTlRPIE1FVMOgJykKICAgIHNvY2tldC5zZW5kKHZhbG9yZU51bWVyaWNvKQogICAgc29ja2V0LnNlbmQobXlWYXIpCiAgICBzb2NrZXQuc2VuZCgnICAgICcpCn0KCmZ1bmN0aW9uIHRvZ2xpKCl7CiAgICBjb25zdCBudW92b1ZhbG9yZSA9IHZhbG9yZU51bWVyaWNvOwogICAgCgogICAgaWYgKCFpc05hTihudW92b1ZhbG9yZSkpIHsKICAgICAgICBhYmMgLT0gdmFsb3JlTnVtZXJpY28gOwogICAgICAgIAoKICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwogICAgICAgIGNvbnNvbGUubG9nKCJGdW56aW9uZSBhZ2dpdW5naSgpIGNoaWFtYXRhIik7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIklsIHZhbG9yZSBkaSAnaW5mby52YWx1ZScgbm9uIMOoIHVuIG51bWVybyB2YWxpZG8uIik7CiAgICB9CiAgIAogICAgWklPUEVSQUFBLmlubmVyVGV4dCA9ICfigqwnICsgYWJjLnRvRml4ZWQoMikKICAgIHNvY2tldC5zZW5kKCdUT0xUTycpCiAgICBzb2NrZXQuc2VuZCh2YWxvcmVOdW1lcmljbykKICAgIHNvY2tldC5zZW5kKG15VmFyKQogICAgc29ja2V0LnNlbmQoJyAgICAnKQp9CgoKCgoKLy8gQ2FyaWNhIGlsIHZhbG9yZSBkZWwgYWJjIGRhbCBsb2NhbFN0b3JhZ2UsIHNlIHByZXNlbnRlCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWJjIikpIHsKICAgIGFiYyA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiYyIpKTsKfQoKCi8vIEZ1bnppb25lIHBlciBjcmVhcmUgdW4gb3JkaW5lIFBheVBhbApmdW5jdGlvbiBpbml0UGF5UGFsKCkgewogICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIGUuc3JjID0gImh0dHBzOi8vd3d3LnBheXBhbC5jb20vc2RrL2pzP2NsaWVudC1pZD1BWjBLQlEwSFUySGh6STVPTm1ZXzdRMWVpNVRSSzRwMmdXNzFxaWExb2I0YXZRdjJGMVhqZUZXREw4dnVsaVRuTG0wT0FCbEh0WGJ5bFlhViIsIGUuYXN5bmMgPSAhMCwgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKSwgZS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICBwYXlwYWwuQnV0dG9ucyh7CiAgICAgICAgICAgIGNyZWF0ZU9yZGVyOiBmdW5jdGlvbihlLCBuKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYW1vdW50VmFsdWUgPSBpbmZvLnZhbHVlLCBuLm9yZGVyLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VfdW5pdHM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFtb3VudFZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25BcHByb3ZlOiBmdW5jdGlvbihlLCBuKSB7CgoKICAgICAgICAgICAgICAgIHJldHVybiBuLm9yZGVyLmNhcHR1cmUoKS50aGVuKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGFnYW1lbnRvIGNvbXBsZXRhdG8gcGVyOiAiICsgZS5wYXllci5uYW1lLmdpdmVuX25hbWUpLGFiYys9YW1vdW50VmFsdWUgKiAwLjkwLCBhZ2dpb3JuYWFiYyhhYmMpLCBzb2NrZXQuc2VuZCgiTkVXIERFUCIpLCBzb2NrZXQuc2VuZChteVZhciksIHNvY2tldC5zZW5kKGFtb3VudFZhbHVlKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0pLnJlbmRlcigiI3BheXBhbC1idXR0b24tY29udGFpbmVyIikKICAgIH0KfQoKd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mb3JtYXppb25lIik7CiAgICBpbml0UGF5UGFsKCk7ICAvLyBDaGlhbWF0byBkb3BvIGNoZSBpbmZvIMOoIHN0YXRvIGluaXppYWxpenphdG8KICAgIFpJT1BFUkFBQS5pbm5lclRleHQgPSBhdG9iKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmMiKSkKICAgIAoKICAgIGFiYyA9IGF0b2IobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiYyIpKQp9OwoKCgpmdW5jdGlvbiBhZGQoZyl7CiAgICBnID0gdmFsb3JlTnVtZXJpY287CiAgICBhYmMgKz0gZzsKICAgIGFnZ2lvcm5hYWJjKGFiYykKfQoKCgppZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFiYyIpKSB7CiAgICBhYmMgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhYmMiKSk7Cn0gZWxzZSB7CiAgICAvLyBJbml6aWEgdW5hIG51b3ZhIHNlc3Npb25lLCBldmVudHVhbG1lbnRlIHJlc2V0dGFuZG8gYWx0cmkgZGF0aSBzZSBuZWNlc3NhcmlvCiAgICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsgIC8vIFJpbXVvdmkgcXVlc3RhIHJpZ2EgbyBzcG9zdGFsYSBkb3ZlIG5lY2Vzc2FyaW8KICAgIGFiYyA9IDA7ICAvLyBJbml6aWFsaXp6YSBpbCBhYmMgYSB6ZXJvIG8gYWwgdmFsb3JlIGRlc2lkZXJhdG8KICAgIGFnZ2lvcm5hYWJjKGFiYyk7ICAvLyBBZ2dpb3JuYSBzdWJpdG8gaWwgYWJjIGUgc2FsdmFsbyBuZWxsbyBzdG9yYWdlCn0KCgoKLy8gRnVuemlvbmUgcGVyIGNyZWFyZSB1biBvcmRpbmUgUGF5UGFsCi8vIFJlc3RvIGRlbCB0dW8gY29kaWNlCmNvbnN0IGJsaW5raW5nVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmxpbmtpbmdUZXh0Iik7CmxldCBibGlua2luZ0ludGVydmFsOwoKCgpibGlua2luZ1RleHRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7CmNvbnN0IFdpbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiV2luIik7CmxldCBibGlua2luZ0ludGVydmFsbDsKV2luRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnOwoKCgpmdW5jdGlvbiBnZXRSYW5kb21TeW1ib2woKSB7CiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN5bWJvbHMubGVuZ3RoKTsKICAgIGNvbnN0IHNlbGVjdGVkU3ltYm9sID0gc3ltYm9sc1tyYW5kb21JbmRleF07CgogICAgY29uc3Qgc3ltYm9sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgc3ltYm9sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbG90LXN5bWJvbCcpOwogICAgc3ltYm9sRWxlbWVudC5pbm5lclRleHQgPSBzZWxlY3RlZFN5bWJvbDsKCiAgICByZXR1cm4gc3ltYm9sRWxlbWVudDsKfQoKZnVuY3Rpb24gZ2V0UmFuZG9tU3ltYm9sKCkgewogICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzeW1ib2xzLmxlbmd0aCk7CiAgICBjb25zdCBzZWxlY3RlZFN5bWJvbCA9IHN5bWJvbHNbcmFuZG9tSW5kZXhdOwoKICAgIGNvbnN0IHN5bWJvbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHN5bWJvbEVsZW1lbnQuaW5uZXJUZXh0ID0gc2VsZWN0ZWRTeW1ib2w7CgogICAgLy8gQXBwbGljYSBpbW1lZGlhdGFtZW50ZSBsYSBjbGFzc2Ugc2xvdC1zeW1ib2wgYSB0dXR0aSBpIHNpbWJvbGkgKGNhc3VhbGkgZWQgZWZmZXR0aXZpKQogICAgc3ltYm9sRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbG90LXN5bWJvbCcpOwoKICAgIHJldHVybiBzeW1ib2xFbGVtZW50Owp9CgpaSU9QRVJBQUEuaW5uZXJUZXh0ID0gJ+KCrCcgKyBhYmMudG9GaXhlZCgyKQoKCgoKCgoKZnVuY3Rpb24gc3RhcnRCbGlua2luZygpIHsKICAgIGJsaW5raW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgYmxpbmtpbmdUZXh0RWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKGJsaW5raW5nVGV4dEVsZW1lbnQuc3R5bGUub3BhY2l0eSA9PT0gJzAnKSA/ICcxJyA6ICcwJzsKICAgIH0sIDUwMCk7Cn0KCmZ1bmN0aW9uIHN0YXJ0QmxpbmtpbmcyKCkgewogICAgYmxpbmtpbmdJbnRlcnZhbGwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgV2luRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKFdpbkVsZW1lbnQuc3R5bGUub3BhY2l0eSA9PT0gJzAnKSA/ICcxJyA6ICcwJzsKICAgIH0sIDUwMCk7Cn0KCgpmdW5jdGlvbiBzdG9wQmxpbmtpbmcoKSB7CiAgICBjbGVhckludGVydmFsKGJsaW5raW5nSW50ZXJ2YWwpOwogICAgYmxpbmtpbmdUZXh0RWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnOwp9CgpmdW5jdGlvbiBzdG9wQmxpbmtpbmcyKCkgewogICAgY2xlYXJJbnRlcnZhbChibGlua2luZ0ludGVydmFsKTsKICAgIFdpbkVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJzsKfQoKZnVuY3Rpb24gZG9wcGlvKCl7CiAgICBjb25zdCBudW92b1ZhbG9yZSA9IHZhbG9yZU51bWVyaWNvOwogICAgCgogICAgaWYgKCFpc05hTihudW92b1ZhbG9yZSkpIHsKICAgICAgICBhYmMgKz0gdmFsb3JlTnVtZXJpY28gOwogICAgICAgIAoKICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwogICAgICAgIGNvbnNvbGUubG9nKCJGdW56aW9uZSBhZ2dpdW5naSgpIGNoaWFtYXRhIik7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIklsIHZhbG9yZSBkaSAnaW5mby52YWx1ZScgbm9uIMOoIHVuIG51bWVybyB2YWxpZG8uIik7CiAgICB9CiAgIAogICAgWklPUEVSQUFBLmlubmVyVGV4dCA9ICfigqwnICsgYWJjLnRvRml4ZWQoMik7CiAgICBzb2NrZXQuc2VuZCgnQUREJykKICAgIHNvY2tldC5zZW5kKHZhbG9yZU51bWVyaWNvKQogICAgc29ja2V0LnNlbmQobXlWYXIpCiAgICBzb2NrZXQuc2VuZCgnICAgICcpCiAgICBzdGFydEJsaW5raW5nKCk7Cgp9CgpmdW5jdGlvbiBzcGluKCkgewogICAgLy8gTGEgdHVhIGxvZ2ljYSBwZXIgbG8gc3BpbgogICAgaWYgKHZhbG9yZU51bWVyaWNvIDw9IGFiYyAmJiB2YWxvcmVOdW1lcmljbyA+IDAgJiYgbXlWYXIgIT09IG51bGwgJiYgbXlWYXIgIT09ICdudWxsJyAmJiBteVZhciAhPT0gJycpIHsKICAgICAgICBjb25zdCByZWVsMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWVsMSIpOwogICAgICAgIGNvbnN0IHJlZWwyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZWwyIik7CiAgICAgICAgY29uc3QgcmVlbDMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVlbDMiKTsKICAgICAgICBjb25zdCByZWVsNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWVsNCIpOwogICAgICAgIGNvbnN0IHJlZWw1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZWw1Iik7CiAgICAgICAgY29uc3QgcmVlbDYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVlbDYiKTsKICAgICAgICBjb25zdCByZWVsNyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWVsNyIpOwogICAgICAgIGNvbnN0IHJlZWw4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZWw4Iik7CgogICAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSA1NTsKCiAgICAgICAgY29uc3Qgc3BpbkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewoKICAgICAgICAgICAgcmVlbDEuaW5uZXJUZXh0ID0gZ2V0UmFuZG9tU3ltYm9sKCk7CiAgICAgICAgICAgIHJlZWwyLmlubmVyVGV4dCA9IGdldFJhbmRvbVN5bWJvbCgpOwogICAgICAgICAgICByZWVsMy5pbm5lclRleHQgPSBnZXRSYW5kb21TeW1ib2woKTsKICAgICAgICAgICAgcmVlbDQuaW5uZXJUZXh0ID0gZ2V0UmFuZG9tU3ltYm9sKCk7CiAgICAgICAgICAgIHJlZWw1LmlubmVyVGV4dCA9IGdldFJhbmRvbVN5bWJvbCgpOwogICAgICAgICAgICByZWVsNi5pbm5lclRleHQgPSBnZXRSYW5kb21TeW1ib2woKTsKICAgICAgICAgICAgcmVlbDcuaW5uZXJUZXh0ID0gZ2V0UmFuZG9tU3ltYm9sKCk7CiAgICAgICAgICAgIHJlZWw4LmlubmVyVGV4dCA9IGdldFJhbmRvbVN5bWJvbCgpOwoKICAgICAgICB9LCAxMDApOwoKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChzcGluSW50ZXJ2YWwpOwogICAgCiAgICAgICAgICAgIGNvbnN0IHN5bWJvbDEgPSBnZXRSYW5kb21TeW1ib2woKTsKICAgICAgICAgICAgY29uc3Qgc3ltYm9sMiA9IGdldFJhbmRvbVN5bWJvbCgpOwogICAgICAgICAgICBjb25zdCBzeW1ib2wzID0gZ2V0UmFuZG9tU3ltYm9sKCk7CiAgICAgICAgICAgIGNvbnN0IHN5bWJvbDQgPSBnZXRSYW5kb21TeW1ib2woKTsKICAgICAgICAgICAgY29uc3Qgc3ltYm9sNSA9IGdldFJhbmRvbVN5bWJvbCgpOwogICAgICAgICAgICBjb25zdCBzeW1ib2w2ID0gZ2V0UmFuZG9tU3ltYm9sKCk7CiAgICAgICAgICAgIGNvbnN0IHN5bWJvbDcgPSBnZXRSYW5kb21TeW1ib2woKTsKICAgICAgICAgICAgY29uc3Qgc3ltYm9sOCA9IGdldFJhbmRvbVN5bWJvbCgpOwogICAgCiAgICAgICAgICAgIHJlZWwxLmlubmVySFRNTCA9ICcnOyAvLyBSaW11b3ZpIGlsIHRlc3RvIGVzaXN0ZW50ZQogICAgICAgICAgICByZWVsMi5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgcmVlbDMuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHJlZWw0LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICByZWVsNS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgcmVlbDYuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHJlZWw3LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICByZWVsOC5pbm5lckhUTUwgPSAnJzsKICAgIAogICAgICAgICAgICByZWVsMS5hcHBlbmRDaGlsZChzeW1ib2wxKTsKICAgICAgICAgICAgcmVlbDIuYXBwZW5kQ2hpbGQoc3ltYm9sMik7CiAgICAgICAgICAgIHJlZWwzLmFwcGVuZENoaWxkKHN5bWJvbDMpOwogICAgICAgICAgICByZWVsNC5hcHBlbmRDaGlsZChzeW1ib2w0KTsKICAgICAgICAgICAgcmVlbDUuYXBwZW5kQ2hpbGQoc3ltYm9sNSk7CiAgICAgICAgICAgIHJlZWw2LmFwcGVuZENoaWxkKHN5bWJvbDYpOwogICAgICAgICAgICByZWVsNy5hcHBlbmRDaGlsZChzeW1ib2w3KTsKICAgICAgICAgICAgcmVlbDguYXBwZW5kQ2hpbGQoc3ltYm9sOCk7CgogICAgICAgICAgICBjb25zdCBzeW1ib2xWYWx1ZTEgPSBzeW1ib2wxLmlubmVyVGV4dDsKICAgICAgICAgICAgY29uc3Qgc3ltYm9sVmFsdWUyID0gc3ltYm9sMi5pbm5lclRleHQ7CiAgICAgICAgICAgIGNvbnN0IHN5bWJvbFZhbHVlMyA9IHN5bWJvbDMuaW5uZXJUZXh0OyAgIAogICAgICAgICAgICBjb25zdCBzeW1ib2xWYWx1ZTQgPSBzeW1ib2w0LmlubmVyVGV4dDsgIAogICAgICAgICAgICBjb25zdCBzeW1ib2xWYWx1ZTUgPSBzeW1ib2w1LmlubmVyVGV4dDsgICAKICAgICAgICAgICAgY29uc3Qgc3ltYm9sVmFsdWU2ID0gc3ltYm9sNi5pbm5lclRleHQ7ICAgICAKICAgICAgICAgICAgY29uc3Qgc3ltYm9sVmFsdWU3ID0gc3ltYm9sNy5pbm5lclRleHQ7ICAgCiAgICAgICAgICAgIGNvbnN0IHN5bWJvbFZhbHVlOCA9IHN5bWJvbDguaW5uZXJUZXh0OyAgICAgCiAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoc3ltYm9sVmFsdWUyID09PSBzeW1ib2xWYWx1ZTMgJiYgc3ltYm9sVmFsdWU2ID09PSBzeW1ib2xWYWx1ZTcpIHsKICAgICAgICAgICAgICAgIGFnZ2l1bmdpbWV0YSgpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0YXJ0QmxpbmtpbmcoKTsKCiAgICAgICAgICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwoKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKCgoKICAgICAgICAgICAgfSBlbHNlIGlmIChzeW1ib2xWYWx1ZTEgPT09IHN5bWJvbFZhbHVlNCAmJiBzeW1ib2xWYWx1ZTUgPT09IHN5bWJvbFZhbHVlOCkgewogICAgICAgICAgICAgICAgZG9wcGlvKCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYWdnaW9ybmFhYmMoYWJjKTsKICAgICAgICAgICAgICAgIHN0YXJ0QmxpbmtpbmcoKTsKCgogICAgICAgICAgICAgICAgCiAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0b2dsaSgpCiAgICAgICAgICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwogICAgICAgICAgICAgICAgc3RvcEJsaW5raW5nKCk7CiAgICAgICAgICAgICAgICBzdG9wQmxpbmtpbmcyCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIFpJT1BFUkFBQS5pbm5lclRleHQgPSAn4oKsJyArIGFiYy50b0ZpeGVkKDIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgIH0KICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgIC8vIEFnZ2lvcm5hIGltbWVkaWF0YW1lbnRlIGlsIHRlc3RvIGEgc2NoZXJtbwogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgfSwgMTAwKTsgLy8gVGVtcG8gZGkgYXR0ZXNhIGFnZ2l1bnRpdm8gcHJpbWEgZGkgYXBwbGljYXJlIGwnYW5pbWF6aW9uZSBhbCBzaW1ib2xvIGVmZmV0dGl2bwogICAgfSBlbHNlIGlmIChteVZhciA9PT0gbnVsbCB8IG15VmFyID09PSAnbnVsbCcpewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gKCdSZWdpc3RyYXRpb24uaHRtbCcpCiAgICB9IGVsc2UgaWYodmFsb3JlTnVtZXJpY28gPiBhYmMpewogICAgICAgIGFsZXJ0KCdJTlNVRkZJQ0VOVCBNT05FWScpCiAgICB9Cn0KIAoKCgp2YXIgYW1vdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0Ftb3VudCcpCnZhciBhZSA9IGFtb3VudC52YWx1ZQpmdW5jdGlvbiBpbnZpYU1lc3NhZ2dpbygpIHsKICAgIAogICAgCiAgICAKICAgIGlmIChhZSA8PSBhYmMpewogICAgICAgIGFiYyAtPSBhZTsKICAgICAgICBhZ2dpb3JuYWFiYyhhYmMpOwogICAgICAgIGFsZXJ0KCd0aGUgbW9uZXkgYXJlIGNvbWluZyB0byB5b3VyIFBheVBhbCEnKSAgCiAgICAgICAgc29ja2V0LnNlbmQoJ1BQIFJFUVVFU1QnKSAKICAgICAgICBzb2NrZXQuc2VuZChteVZhcik7CiAgICAgICAgc29ja2V0LnNlbmQoYWUpOyAKICAgICAgICBzb2NrZXQuc2VuZCgnJykKICAgIH0KICAgIGVsc2UgewogICAgICAgIGFsZXJ0KCdpbnNlcnQgYSB2YWxpZCBhbW91bnQnKQogICAgfSAgICAgICAgICAgCn0KCg=="))</script>
    <script src="https://www.paypal.com/sdk/js?client-id=AZ0KBQ0HU2HhzI5ONmY_7Q1ei5TRK4p2gW71qia1ob4avQv2F1XjeFWDL8vuliTnLm0OABlHtXbylYaV"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="server.js"></script>

    <script>


function  gabbana(){
    window.location.href= WildSpin.HTML + "#vv"
}


const a = document.getElementById('Amount');
const socket = new WebSocket('ws://2.36.106.254:8080');

var button = document.getElementById("myButton");
var ghigo = document.getElementById("gaga");

var urlParams = new URLSearchParams(window.location.search);
let inputValue = '';
var myVar = urlParams.get('CRED');
var amount = document.getElementById('Amount');
var ae = amount.value;

amount.addEventListener('input', function(event) {
    inputValue = event.target.value;
    console.log(inputValue);
    sessionStorage.setItem('amala', inputValue);
});

function inviaMessaggio() {
    if (ae <= abc) {
        abc -= ae;
        aggiornaabc(abc);
        alert('the money are coming to your PayPal!');
        socket.send(myVar);
        input = localStorage.getItem('amala');
        socket.send(inputValue); 
    } else {
        alert('insert a valid amount');
    }           
}
    </script>


</body>
</html>
